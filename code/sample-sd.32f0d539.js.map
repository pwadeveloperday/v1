{"version":3,"file":"sample-sd.32f0d539.js","sources":["../../src/script/pages/sample-sd.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\r\nimport { customElement, query, property } from 'lit/decorators.js';\r\n\r\n@customElement('sample-sd')\r\nexport class SampleSD extends LitElement {\r\n  @query('#stream') _stream: HTMLVideoElement;\r\n  @query('#msg') _msg: HTMLDivElement;\r\n  @property({ type: Function }) interval;  \r\n\r\n  async _bc() {\r\n    if (!('BarcodeDetector' in window) || !((await BarcodeDetector.getSupportedFormats()).includes('qr_code'))) {\r\n      this._msg.innerHTML =  'ÊµèËßàÂô®Âú®ËØ•Á≥ªÁªü‰∏çÊîØÊåÅ‰∫åÁª¥Á†ÅÊ£ÄÊµã';\r\n      return;\r\n    } else {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          facingMode: { ideal: 'environment' }\r\n        },\r\n        audio: false\r\n      });\r\n      this._stream.srcObject = stream;\r\n      await this._stream.play();\r\n\r\n      const barcodeDetector = new BarcodeDetector({formats: ['aztec',\r\n        'code_128',\r\n        'code_39',\r\n        'code_93',\r\n        'codabar',\r\n        'data_matrix',\r\n        'ean_13',\r\n        'ean_8',\r\n        'itf',\r\n        'pdf417',\r\n        'qr_code',\r\n        'upc_a',\r\n        'upc_e']});\r\n      \r\n      if(this._stream) {\r\n        let videoel = this._stream;\r\n        this.interval = setInterval(async (barcodeDetector, videoel) => {\r\n          const barcodes = await barcodeDetector.detect(videoel);\r\n          if (barcodes.length <= 0) return;\r\n          this._msg.innerHTML = barcodes.map(barcode => barcode.rawValue);\r\n        }, 500);\r\n      }\r\n    }\r\n  }\r\n\r\n  async _pausec() {\r\n    clearInterval(this.interval);\r\n    this._stream.pause();\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n    .about {\r\n      padding: 0 16px;\r\n      margin: 1rem 0 0rem 0;\r\n      color: #3d3d3d;\r\n      min-height: calc(100vh - 76px);\r\n    }\r\n\r\n    h2 {\r\n      font-size: 1.2rem;\r\n      color: rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    fluent-card {\r\n      padding: 1rem;\r\n      margin-bottom: 1rem;\r\n      border-radius: 0px;\r\n      box-shadow: none;\r\n      background: rgba(255, 255, 255, 0.5);\r\n    }\r\n\r\n    fluent-card:hover {\r\n      background: rgba(255, 255, 255, 0.95);\r\n      color: #000;\r\n    }\r\n\r\n    fluent-card h3 {\r\n      margin: 10px auto;\r\n    }\r\n\r\n    fluent-card p {\r\n      margin: 10px auto;\r\n    }\r\n\r\n    @media(prefers-color-scheme: light) {\r\n    }\r\n\r\n    @media(prefers-color-scheme: dark) {\r\n    }\r\n\r\n    @media (min-width: 1024px) {\r\n    }\r\n\r\n    .spam {\r\n      display: none;\r\n    }\r\n\r\n    #status {\r\n      display: inline;\r\n    }\r\n\r\n    #result {\r\n      display: none;\r\n    }\r\n\r\n    .previewv {\r\n      margin: 16px auto;\r\n      text-align: left;\r\n      writing-mode:vertical-rl;\r\n      letter-spacing: 4px;\r\n      font-size: 1.8rem;\r\n    }\r\n\r\n    .previewv h3, .previewv h4 {\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .previewv h4 {\r\n      margin-left: 16px;\r\n    }\r\n\r\n    a {\r\n      color: rgba(255, 255, 255, 0.9);\r\n\r\n      text-decoration: none;\r\n      border-bottom: 0px dashed rgba(255, 255, 255, 0.6);;\r\n    }\r\n\r\n    a:hover {\r\n      color: rgba(255, 255, 255, 1);\r\n      text-decoration: none;\r\n      border-bottom: 1px dashed rgba(255, 255, 255, 1);\r\n    }\r\n\r\n    #st {\r\n      padding: 0;\r\n    }\r\n\r\n    #st {\r\n      color: rgba(255, 255, 255, 0.9);\r\n    }\r\n\r\n    #st:hover {\r\n      color: rgba(255, 255, 255, 1.0);\r\n    }\r\n\r\n    .tut {\r\n      padding: 16px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n    }\r\n\r\n    .tut a {\r\n      color: rgba(0, 113, 197, 0.9);\r\n      text-decoration: none;\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\r\n    }\r\n\r\n    .tut a:hover {\r\n      color: rgba(0, 113, 197, 1);\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    .w3c {\r\n      padding: 16px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      background-color: rgba(0, 199, 253, 0.9);\r\n    }\r\n    .w3c:hover {\r\n      background-color: rgba(0, 199, 253, 1.0);\r\n    }\r\n    \r\n    .imp {\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 16px;\r\n      padding: 16px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      background-color: rgba(0, 113, 197, 0.9);\r\n      align-items: center;\r\n      justify-content: space-around;\r\n    }\r\n    .imp:hover {\r\n      background-color: rgba(0, 113, 197, 1.0);\r\n    }\r\n\r\n    .imp .yes {\r\n      fill: rgba(255, 255, 255, 0.9);\r\n    }\r\n\r\n    .imp:hover .yes {\r\n      fill: rgba(255, 255, 255, 1.0);\r\n    }\r\n\r\n    .imp .no {\r\n      fill: rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\n    .imp:hover .no {\r\n      fill: rgba(0, 0, 0, 0.4);\r\n    }\r\n\r\n    .des {\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n      padding: 2px 8px;\r\n    }\r\n\r\n    .cate, .det {\r\n      display: inline-block;\r\n    }\r\n    .cate .yes, .det .yes, .cate .no, .det .no{\r\n      display: inline-block;\r\n      width: 16px;\r\n      padding: 0 4px;\r\n    }\r\n\r\n    .cate {\r\n      border-right: 1px solid rgba(255, 255, 255, 0.2);\r\n      display: none;\r\n    }\r\n\r\n    .q {\r\n      margin: 16px auto;\r\n    }\r\n\r\n    .w3clogo {\r\n      margin-right: 6px;\r\n    }\r\n\r\n    .act div {\r\n      margin-top: 16px;\r\n    }\r\n\r\n    .act a {\r\n      color: rgba(0, 113, 197, 0.9);\r\n      cursor: pointer;\r\n      text-decoration: none;\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\r\n    }\r\n\r\n    .act a:hover {\r\n      color: rgba(0, 113, 197, 1);\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    #show {\r\n      display: none;\r\n    }\r\n\r\n    .act div {\r\n      background-color: rgba(0, 0, 0, 0.02);\r\n      padding: 8px 16px;\r\n    }\r\n\r\n    #stream {\r\n      width: 320px;\r\n      height: 180px;\r\n    }\r\n\r\n    .center {\r\n      margin: 0px auto;\r\n      text-align: center;\r\n      background: transparent !important;\r\n    }\r\n\r\n    .center button {\r\n      margin-top: 16px;\r\n    }\r\n\r\n    `;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <app-header ?enableBack=\"${true}\"></app-header>\r\n      <div class=\"about\">\r\n        <fluent-breadcrumb>\r\n          <fluent-breadcrumb-item href=\"/\">È¶ñÈ°µ</fluent-breadcrumb-item>\r\n          <fluent-breadcrumb-item href=\"/sample\">Á§∫‰æã</fluent-breadcrumb-item>\r\n        </fluent-breadcrumb>\r\n        <h2>ÂΩ¢Áä∂Ê£ÄÊµã (Shape Detection) API</h2>\r\n        ÂΩ¢Áä∂Ê£ÄÊµã API Ê£ÄÊµãÂõæÂÉè‰∏≠ÁöÑ‰∫∫ËÑ∏„ÄÅÊù°ÂΩ¢Á†ÅÂíåÊñáÊú¨<br><br>\r\n        <fluent-card class=\"act\">\r\n          <div class=\"center\">\r\n            <video id=\"stream\" muted autoplay></video><br>\r\n            <button @click=\"${this._bc}\">Êâ´Á†Å‰∫åÁª¥Á†Å</button>\r\n            <button @click=\"${this._pausec}\">ÊöÇÂÅú</button>\r\n          </div>\r\n          <div id=\"msg\"></div>\r\n        </fluent-card>\r\n        <fluent-card>\r\n          ÂêØÁî® chrome://flags#enable-experimental-web-platform-features\r\n        </fluent-card>\r\n        <fluent-card id=\"st\">\r\n          <div class=\"tut\">\r\n            <icon-webdev></icon-webdev> \r\n            <a href=\"https://web.dev/shape-detection/\" title=\"The Shape Detection API: a picture is worth a thousand words, faces, and barcodes\">\r\n              ÊïôÁ®ãÔºöÂΩ¢Áä∂Ê£ÄÊµã API\r\n            </a>\r\n          </div>\r\n          <div class=\"w3c\"><icon-w3c class=\"w3clogo\"></icon-w3c> <a href=\"https://wicg.github.io/shape-detection-api/\" title=\"Accelerated Shape Detection in Images\">Accelerated Shape Detection in Images</a></div>\r\n          <div class=\"imp\">\r\n            <div class=\"des\">\r\n              <a href=\"https://chromestatus.com/feature/4757990523535360\" title=\"Âú® Chromium 83 ÁâàÊú¨ÊîØÊåÅ\">üê° M83</a>\r\n            </div>\r\n            <div class=\"des\">\r\n              <div class=\"det\">\r\n              <icon-chr class=\"yes\" title=\"Google Chrome ÊµèËßàÂô®\"></icon-chr>\r\n              <icon-edg class=\"yes\" title=\"ÂæÆËΩØ Edge ÊµèËßàÂô®\"></icon-edg> <icon-ope class=\"yes\" title=\"Opera ÊµèËßàÂô®\"></icon-ope> <icon-viv class=\"yes\" title=\"Vivaldi ÊµèËßàÂô®\"></icon-viv>\r\n              <icon-saf class=\"no\" title=\"Apple Safari ÊµèËßàÂô®\"></icon-saf> <icon-fir class=\"no\" title=\"Mozilla Firefox ÊµèËßàÂô®\"></icon-fir>\r\n              </div>\r\n            </div>\r\n            <div class=\"des\">\r\n              <div class=\"det\">\r\n                <icon-mac class=\"yes\" title=\"Mac\"></icon-mac> <icon-win class=\"no\" title=\"Windows\"></icon-win> <icon-lin class=\"no\" title=\"Linux\"></icon-lin> \r\n              </div>\r\n              <div class=\"det\">\r\n                <icon-and class=\"yes\" title=\"Android\"></icon-and> <icon-ios class=\"no\" title=\"iOS\"></icon-ios>\r\n              </div>\r\n            </div>   \r\n          </div>\r\n        </fluent-card>\r\n        <app-footer></app-footer>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n"],"names":["LitElement","css","html","query","property","customElement"],"mappings":"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"}