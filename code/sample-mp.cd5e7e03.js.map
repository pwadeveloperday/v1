{"version":3,"file":"sample-mp.cd5e7e03.js","sources":["../../src/script/pages/sample-mp.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\nimport 'lit-video/lit-video.js';\nimport { customElement, query } from 'lit/decorators.js';\n\n@customElement('sample-mp')\nexport class SampleMP extends LitElement {\n  @query('#first-video') video: HTMLVideoElement;\n  @query('#msg') msg: HTMLDivElement;\n\n  private async _playLocalVideo() {\n    let fileHandle;\n    [fileHandle] = await showOpenFilePicker();\n    const file = await fileHandle.getFile(); \n    this.video.src = URL.createObjectURL(file)\n  }\n\n  private async _playFileHandlerVideo() {\n    if ('launchQueue' in window && 'files' in LaunchParams.prototype) {\n      console.log('您的浏览器支持文件处理 API');\n      \n      launchQueue.setConsumer(async (launchParams) => {\n        if (!launchParams.files.length) {\n          this.msg.innerHTML = '没有从视频文件右键菜单打开本页面'\n          return;\n        }\n        for (let fileHandle of launchParams.files) {\n          console.log(fileHandle);\n          const file = await fileHandle.getFile();\n          console.log(file);\n          this.video.src = URL.createObjectURL(file);\n        }\n      });\n    }\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    this._playFileHandlerVideo();\n  }\n\n  static get styles() {\n    return css`\n      .act {\n        display: flex;\n        align-items: center;\n        position: relative;\n        width: 100vw;\n        height: 100vh;\n        background-color: black;\n        color: #FFFFFF;\n        flex-direction: column;\n      }\n      lit-video {\n        width: 100%;\n        height: auto;\n        max-height: 100%;\n        margin: auto;\n        outline: none;\n      }\n\n      #open {\n        position: absolute;\n        bottom: 48px;\n        cursor: pointer;\n      }\n\n      #open svg {\n        width: 32px;\n        height: 24px;\n      }\n\n      #open svg path {\n        fill: rgba(255, 255, 255, 0.8);\n      }\n\n      #open:hover svg path {\n        fill: rgba(255, 255, 255, 1.0);\n      }\n\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    return html`\n      <fluent-card class=\"act\">\n        <lit-video \n          id=\"first-video\"\n          option=\"simple\" \n          src=\"\" \n          type=\"video/mp4\">\n        </lit-video>\n        <a id=\"open\" @click=\"${this._playLocalVideo}\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n            <path d=\"M512 144v288c0 26.5-21.5 48-48 48h-416C21.5 480 0 458.5 0 432v-352C0 53.5 21.5 32 48 32h160l64 64h192C490.5 96 512 117.5 512 144z\"/>\n          </svg>\n        </a>\n      </fluent-card>\n    `;\n  }\n}\n"],"names":["LitElement","css","html","query","customElement"],"mappings":"oSAKa,GAAA,GAAN,aAAuBA,EAAW,CA6EvC,aAAc,CACN,OACR,CA3EA,KAAc,kBAAkB,CAC1B,GAAA,GACH,CAAA,CAAU,EAAI,KAAM,sBACf,KAAA,GAAO,KAAM,GAAW,UAC9B,KAAK,MAAM,IAAM,IAAI,gBAAgB,CAAI,CAC3C,CAEA,KAAc,wBAAwB,CACpC,AAAI,eAAiB,SAAU,SAAW,cAAa,WACrD,SAAQ,IAAI,wEAAiB,EAEjB,YAAA,YAAY,KAAO,IAAiB,CAC1C,GAAA,CAAC,EAAa,MAAM,OAAQ,CAC9B,KAAK,IAAI,UAAY,mGACrB,MACF,CACS,OAAA,KAAc,GAAa,MAAO,CACzC,QAAQ,IAAI,CAAU,EAChB,KAAA,GAAO,KAAM,GAAW,UAC9B,QAAQ,IAAI,CAAI,EAChB,KAAK,MAAM,IAAM,IAAI,gBAAgB,CAAI,CAC3C,CAAA,CACD,EAEL,CAEA,KAAM,oBAAoB,CACxB,MAAM,kBAAkB,EACxB,KAAK,sBAAsB,CAC7B,CAEA,UAAW,SAAS,CACX,MAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,KAuCT,CAMA,QAAS,CACA,MAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,+BAQoB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOlC,CACF,EAjGyB,EAAA,CAAtBC,EAAM,cAAc,CAAA,EAAE,EAAA,UAAA,QAAA,CAAA,EACR,EAAA,CAAdA,EAAM,MAAM,CAAA,EAAE,EAAA,UAAA,MAAA,CAAA,EAFJ,EAAN,EAAA,CADNC,EAAc,WAAW,CAAA,EACb,CAAA"}