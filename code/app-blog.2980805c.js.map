{"version":3,"file":"app-blog.2980805c.js","sources":["../../src/script/pages/app-blog.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\r\nimport { property, customElement, query } from 'lit/decorators.js';\r\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\r\n\r\n@customElement('app-blog')\r\nexport class AppBlog extends LitElement {\r\n\r\n  @property({ type: Object }) jsondata = {\r\n    \"name\": \"blog\",\r\n    \"blog\": [\r\n      {\r\n        \"id\": 1,\r\n        \"path\" : \"china-pwa-developer-day-2022\",\r\n        \"title\": \"第二届中国 PWA 开发者日\",\r\n        \"des\": \"第二届中国 PWA 开发者日 (China PWA Developer Day 2022) 即将于 2022 年 8 月 6 日线上举行。欢迎您的参与！\",\r\n        \"date\": \"2022-08-06\",\r\n        \"authors\": [ {\r\n          \"author\": \"宋青见 (Edwin Song)\",\r\n          \"pos\": \"首席产品经理\",\r\n          \"com\": \"微软 Edge · 开发者生态 Bio\",\r\n          \"iconid\": \"edwin\",\r\n          \"icon\": \"assets/2022/people/120/edwin.png\",\r\n          \"icon5\": \"assets/2022/people/500/edwin.png\",\r\n          \"bio\": \"从业 20 余年，历经软件开发到产品经理，前端应用到云计算之间的风云变幻。曾在英特尔工作了 14 年，主要从事与性能优化、GPU 驱动程序和 Chromium 内核优化相关的软件开发和团队管理。之后，受 Chromium 新架构/创新的启发，有一段短暂的 H5 WebOS 创业经历，2016 年加入微软云计算团队，在 Azure RDS for MySQL 和区块链 PaaS 服务上工作了4年多，作为 Chormium 忠粉，在微软 Edge 浏览器全面采用 Chromium 内核后，加入 Edge PWA 团队，为构建 WebOS 的梦想再出发！\",\r\n          },\r\n          {\r\n            \"author\": \"张敏 (Belem Zhang)\",\r\n            \"pos\": \"软件技术经理\",\r\n            \"com\": \"英特尔 SATG Web 平台工程\",\r\n            \"iconid\": \"belem\",\r\n            \"icon\": \"assets/2022/people/120/belem.png\",\r\n            \"icon5\": \"assets/2022/people/500/belem.png\",\r\n            \"bio\": \"张敏，参与了 Crosswork、<a href='https://webnn.dev/' target='_blank'>Web Neural Network (WebNN)</a>、渐进式 Web 应用 （PWA）等 Web 项目。 在 2013 年之前，他是 Opera Software 的软件工程经理并领导了客户端运营和关键数据产品团队。 张敏在浏览器产品及质量、网站兼容性、Web API 及应用等方面有多年经验，张敏正和团队努力将英特尔 XPU 的强大功能引入到 Web，并与 Web 社区携手推动 PWA 技术在国内的发展和落地。\",\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  static get styles() {\r\n    return css`\r\n    .about {\r\n      padding: 0 16px;\r\n      margin: 2rem 0px 0rem;\r\n      min-height: calc(100vh - 174px);\r\n    }\r\n\r\n    h2 {\r\n      margin: 0;\r\n      padding: 16px 0;\r\n      text-align: center;\r\n      color: rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    .desc {\r\n      margin: 0px 0px 32px 0px;\r\n      text-align: center;\r\n    }\r\n\r\n    fluent-card {\r\n      padding: 1rem;\r\n      margin: 1rem auto;\r\n      border-radius: 0px;\r\n      box-shadow: none;\r\n      background: rgba(255, 255, 255, 0.5);\r\n    }\r\n\r\n    fluent-card:hover {\r\n      background: rgba(255, 255, 255, 0.95);\r\n      color: #000;\r\n    }\r\n\r\n    .control[href]:hover {\r\n      background: rgba(255, 255, 255, 0.4);\r\n    }\r\n\r\n    a svg {\r\n      width: 16px;\r\n      height: 16px;\r\n      margin-bottom: -2px;\r\n      fill: rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    fluent-card ul {\r\n      list-style-type: circle;\r\n      margin-left: -32px;\r\n    }\r\n\r\n    fluent-card ul li {\r\n      display: block;\r\n      margin: 8px auto;\r\n      padding-left: 8px;\r\n      border-left: 1px solid rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    fluent-card ul li a {\r\n      color: rgba(0, 113, 197, 0.9);\r\n      text-decoration: none;\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\r\n    }\r\n\r\n    fluent-card ul li a:hover {\r\n      color: rgba(0, 113, 197, 1);\r\n      text-decoration: none;\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 1);\r\n    }\r\n\r\n    @media(prefers-color-scheme: light) {\r\n    }\r\n\r\n    @media(prefers-color-scheme: dark) {\r\n    }\r\n\r\n    @media (min-width: 1024px) {\r\n    }\r\n\r\n    \r\n    .time, .topic {\r\n      padding: 0 4px;\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    .title {\r\n      font-weight: 500;\r\n      font-size: clamp(20px, 3vw, 28px);\r\n      color: rgba(0,113,197, 0.9);\r\n    }\r\n\r\n    fluent-card:hover .title {\r\n      color: rgba(0,113,197, 1);\r\n    }\r\n\r\n    .details {\r\n      display: flex;\r\n      margin-top: 32px;\r\n      gap: 16px 32px;\r\n    }\r\n\r\n    .dessub {\r\n      display: flex;\r\n      gap: 16px 16px;\r\n    }\r\n\r\n    @media (max-width: 660px) {\r\n      .details {\r\n        flex-direction: column;\r\n      }  \r\n    }\r\n\r\n    .article {\r\n      font-size: 14px;\r\n      overflow-y: auto;\r\n      background: rgba(255, 255, 255, 0.2);\r\n      letter-spacing: 1px;\r\n      margin: 16px auto;\r\n    }\r\n\r\n    .article img {\r\n      display:block;\r\n      margin: 8px auto;\r\n      text-align: center;\r\n      max-width: 50vw;\r\n    }\r\n\r\n    .article code {\r\n      display: block;\r\n      margin: 16px;\r\n      padding: 16px;\r\n      border: 1px solid rgba(0, 113, 197, 0.1);\r\n      font-family: monospace;\r\n    }\r\n\r\n    .article code span {\r\n      margin-left: 32px;\r\n    }\r\n\r\n    .bio {\r\n      margin: 16px auto;\r\n      padding: 16px;\r\n      font-size: 14px;\r\n      overflow-y: auto;\r\n      background: rgba(255, 255, 255, 0.2);\r\n    }\r\n\r\n    .des:hover, .bio:hover {\r\n      background: rgba(255, 255, 255, 0.4);\r\n    }\r\n\r\n    .avatar {\r\n      width: 80px;\r\n      height: 80px;\r\n      background-size: 80px 80px;\r\n      margin-right: 10px;\r\n      border: 4px solid hsl(100 100% 60%);\r\n      border-radius: 60px;\r\n    }\r\n\r\n    .description {\r\n      align-self: center;\r\n    }\r\n\r\n    .nametitle {\r\n      margin-bottom: 8px;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .team {\r\n      font-size: 14px;\r\n    }\r\n\r\n\r\n    #icon_belem {\r\n      background-image: url('assets/2022/people/120/belem.png');\r\n    }\r\n\r\n    #icon_wanming {\r\n      background-image: url('assets/2022/people/120/wanming.png');\r\n    }\r\n\r\n    #icon_edwin {\r\n      background-image: url('assets/2022/people/120/edwin.png');\r\n    }\r\n\r\n    a {\r\n      color: rgba(0, 113, 197, 0.9);\r\n      cursor: pointer;\r\n      text-decoration: none;\r\n    }\r\n\r\n    a:hover {\r\n      color: rgba(0, 113, 197, 1);\r\n    }\r\n\r\n    fluent-card a {\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\r\n    }\r\n\r\n    fluent-card a:hover {\r\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\r\n    }\r\n\r\n    `;\r\n  }\r\n\r\n  _getpath() {\r\n    let path = location.pathname.replace('/blog/', '');\r\n    path = path.replace('/blog', '');\r\n    console.log(path.trim());\r\n    return path.trim();\r\n  }\r\n\r\n  async fetchData() {\r\n    const response = await fetch('/blog.json');\r\n    this.jsondata = await response.json();\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    await this._getpath();\r\n    await this.fetchData();\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    if (this.jsondata) {\r\n      let fluentdata = '';\r\n\r\n      if(!this._getpath()) {\r\n        for(let i of this.jsondata.blog) {\r\n          let abstract = i.des.replace(/\\n/g, '<br>');\r\n          abstract = abstract.split('<!-- summary -->')[0];\r\n          let fc = `\r\n            <fluent-card id=\"id_${i.id}\" class=\"ids\">\r\n              <div class=\"title\">\r\n                <a href=\"/blog/${i.path}\">${i.title}</a>\r\n              </div>\r\n              <div class=\"article\">\r\n                ${abstract}\r\n              </div>\r\n            </fluent-card>\r\n          `;\r\n          fluentdata += fc;\r\n        } \r\n      } else {\r\n        for(let i of this.jsondata.blog) {\r\n          if(this._getpath() === i.path) {\r\n            let abstract = i.des.replace(/\\n/g, '<br>');\r\n            let authorcontent = '';\r\n            for(let a of i.authors) {\r\n              authorcontent += `\r\n                <div class=\"dessub\">\r\n                  <div class=\"avatar\" id=\"icon_${a.iconid}\"></div>\r\n                  <div class=\"description\">\r\n                    <div class=\"nametitle\">${a.author}</div>\r\n                    <div class=\"team\">${a.pos}</div>\r\n                    <div class=\"team\">${a.com}</div>\r\n                  </div>\r\n                </div>\r\n              `\r\n            }\r\n            let fc = `\r\n              <fluent-card id=\"id_${i.id}\" class=\"ids\">\r\n                <div class=\"title\">${i.title}</div>\r\n                <div class=\"date\">${i.date}</div>\r\n                <div class=\"article\">\r\n                  ${abstract}\r\n                </div>\r\n                <div class=\"details\">\r\n                  ${authorcontent}\r\n                </div>\r\n              </fluent-card>\r\n            `;\r\n            fluentdata += fc;\r\n          }\r\n        } \r\n      }\r\n\r\n      let hero = '';\r\n\r\n      if(!this._getpath()) {\r\n        hero = `\r\n          <h2><a href=\"/blog\" title=\"博客\">Blog</a></h2>\r\n          <div class=\"desc\">为您准备的关于 PWA 及 Fugu API 的更新和故事</div>\r\n        `;\r\n      }\r\n\r\n      return html`\r\n        <app-header ?enableBack=\"${true}\"></app-header>\r\n        <div class=\"about\">\r\n          <fluent-breadcrumb>\r\n          <fluent-breadcrumb-item href=\"/\">首页</fluent-breadcrumb-item>\r\n          <fluent-breadcrumb-item href=\"/blog\">Blog</fluent-breadcrumb-item>\r\n          </fluent-breadcrumb>\r\n            ${unsafeHTML(hero)}\r\n          <div id=\"schedule\">\r\n            ${unsafeHTML(fluentdata)}\r\n          </div>\r\n        </div>\r\n        <app-footer></app-footer>\r\n      `;\r\n    } else {\r\n      return html`<app-header ?enableBack=\"${true}\"></app-header>\r\n      <div class=\"about\">\r\n        <h2>Blog</h2>\r\n        <div class=\"desc\">为您准备的关于 PWA 及 Fugu API 的更新和故事</div>\r\n        <fluent-card>\r\n        </fluent-card>\r\n      </div>\r\n      <app-footer></app-footer>`;\r\n    }\r\n  }\r\n}\r\n"],"names":["LitElement","css","html","unsafeHTML","property","customElement"],"mappings":"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"}