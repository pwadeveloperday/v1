{"version":3,"file":"sample-uph.e3b6f3e4.js","sources":["../../src/script/pages/sample-uph.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\nimport { customElement, query } from 'lit/decorators.js';\n\n@customElement('sample-uph')\nexport class SampleUPH extends LitElement {\n\n  @query('#msg') _msg: HTMLDivElement;\n  @query('#uph') _uph: HTMLAnchorElement;\n  @query('#iuph') _iuph: HTMLInputElement;\n  @query('#geolocation') _geolocation: HTMLDivElement;\n  @query('#map') _map: HTMLDivElement;\n  \n  async _showUrlParameters() {\n    const param = location.search;\n    console.log(param);\n    if(param.trim()) {\n      this._msg.innerHTML = `\n        search: ${param}, 成功调用\n      `;\n      // ?pwadev=web%2Bpwadev%3A%2F%2F----%2F\n      let address = param.replace('?pwadev=web%2Bpwadev%3A%2F%2F', '');\n      address = address.slice(0, -2);\n      const res = await fetch(`https://restapi.amap.com/v3/geocode/geo?address=${address}&output=JSON&key=39a5a5f5239a28b739e6a79381afb97e`);\n      const json = await res.json();\n      let geocodes = json.geocodes;\n      let location = geocodes[0].location;\n      this._geolocation.innerHTML = location;\n      const response = await fetch(`https://restapi.amap.com/v3/staticmap?location=${location}&zoom=10&size=375*250&markers=mid,,A:${location}&key=39a5a5f5239a28b739e6a79381afb97e`);\n      this._map.innerHTML = `<img src=\"${response}\">`;\n    } else {\n      this._msg.innerHTML = `无 web+pwadev://* 调用`;\n    }\n  }\n\n  _updateUph() {\n    let uph = `web+pwadev://${this._iuph.value}`;\n    this._uph.innerHTML = uph;\n    this._uph.href = uph;\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    setTimeout(() => {\n      this._showUrlParameters();\n    }, 3000);\n  }\n\n  static get styles() {\n    return css`\n    .about {\n      padding: 0 16px;\n      margin: 1rem 0 0rem 0;\n      color: #3d3d3d;\n    }\n\n    h2 {\n      font-size: 1.2rem;\n      color: rgba(0, 113, 197, 0.9);\n    }\n\n    fluent-card {\n      padding: 1rem;\n      margin-bottom: 1rem;\n      border-radius: 0px;\n      box-shadow: none;\n      background: rgba(255, 255, 255, 0.5);\n    }\n\n    fluent-card:hover {\n      background: rgba(255, 255, 255, 0.95);\n      color: #000;\n    }\n\n    fluent-card h3 {\n      margin: 10px auto;\n    }\n\n    fluent-card p {\n      margin: 10px auto;\n    }\n\n    @media(prefers-color-scheme: light) {\n    }\n\n    @media(prefers-color-scheme: dark) {\n    }\n\n    @media (min-width: 1024px) {\n    }\n\n    .spam {\n      display: none;\n    }\n\n    #status {\n      display: inline;\n    }\n\n    #result {\n      display: none;\n    }\n\n    .previewv {\n      margin: 16px auto;\n      text-align: left;\n      writing-mode:vertical-rl;\n      letter-spacing: 4px;\n      font-size: 1.8rem;\n    }\n\n    .previewv h3, .previewv h4 {\n      margin: 0 auto;\n    }\n\n    .previewv h4 {\n      margin-left: 16px;\n    }\n\n    a {\n      color: rgba(255, 255, 255, 0.9);\n\n      text-decoration: none;\n      border-bottom: 0px dashed rgba(255, 255, 255, 0.6);;\n    }\n\n    a:hover {\n      color: rgba(255, 255, 255, 1);\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(255, 255, 255, 1);\n    }\n\n    #st {\n      padding: 0;\n    }\n\n    #st {\n      color: rgba(255, 255, 255, 0.9);\n    }\n\n    #st:hover {\n      color: rgba(255, 255, 255, 1.0);\n    }\n\n    .tut {\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n    }\n\n    .tut a {\n      color: rgba(0, 113, 197, 0.9);\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\n    }\n\n    .tut a:hover {\n      color: rgba(0, 113, 197, 1);\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\n    }\n\n    .w3c {\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n      background-color: rgba(0, 199, 253, 0.9);\n    }\n    .w3c:hover {\n      background-color: rgba(0, 199, 253, 1.0);\n    }\n    \n    .imp {\n      display: flex;\n      flex-direction: row;\n      gap: 16px;\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n      background-color: rgba(0, 113, 197, 0.9);\n      align-items: center;\n      justify-content: space-around;\n    }\n    .imp:hover {\n      background-color: rgba(0, 113, 197, 1.0);\n    }\n\n    .imp .yes {\n      fill: rgba(255, 255, 255, 0.9);\n    }\n\n    .imp:hover .yes {\n      fill: rgba(255, 255, 255, 1.0);\n    }\n\n    .imp .no {\n      fill: rgba(255, 255, 255, 0.1);\n    }\n\n    .imp:hover .no {\n      fill: rgba(0, 0, 0, 0.4);\n    }\n\n    .des {\n      border: 1px solid rgba(255, 255, 255, 0.2);\n      padding: 2px 8px;\n    }\n\n    .cate, .det {\n      display: inline-block;\n    }\n    .cate .yes, .det .yes, .cate .no, .det .no{\n      display: inline-block;\n      width: 16px;\n      padding: 0 4px;\n    }\n\n    .cate {\n      border-right: 1px solid rgba(255, 255, 255, 0.2);\n      display: none;\n    }\n\n    .q {\n      margin: 16px auto;\n    }\n\n    .w3clogo {\n      margin-right: 6px;\n    }\n\n    .act div {\n      margin-top: 16px;\n    }\n\n    .act a {\n      color: rgba(0, 113, 197, 0.9);\n      cursor: pointer;\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\n    }\n\n    .act a:hover {\n      color: rgba(0, 113, 197, 1);\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\n    }\n\n    #show {\n      display: none;\n    }\n\n    .act div {\n      background-color: rgba(0, 0, 0, 0.02);\n      padding: 8px 16px;\n    }\n\n    fluent-card h3 {\n      font-weight: 400;\n    }\n\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    return html`\n      <app-header ?enableBack=\"${true}\"></app-header>\n      <div class=\"about\">\n        <fluent-breadcrumb>\n          <fluent-breadcrumb-item href=\"/\">首页</fluent-breadcrumb-item>\n          <fluent-breadcrumb-item href=\"/sample\">示例</fluent-breadcrumb-item>\n        </fluent-breadcrumb>\n        <h2>URL 协议处理 (URL Protocol Handler)</h2>\n        使用特定协议的链接调用已安装的 PWA，获得更集成的体验。<br><br>\n        <fluent-card class=\"act\">\n          <ul>\n            <li>访问 <a href=\"https://pwadev.io\">https://pwadev.io</a></li>\n            <li>安装为本地 PWA 应用</li>\n            <li>重启浏览器，访问 <a href=\"https://pwadev.io/sample/url-protocol-handler\">https://pwadev.io/sample/url-protocol-handler</a> </li>\n            <li>点击 <a href=\"web+pwadev://北京市西城区景山西街44号\" id=\"uph\">web+pwadev://北京市西城区景山西街44号</a></li>\n            <li>自动启动 \"中国 PWA 开发者日\"</li>\n            <li>显示浏览器中查询的地址经纬度及地图</li>\n          </ul>\n          <h3>经纬度及地图查询</h3>\n          <input id=\"iuph\" value=\"上海市浦东新区迎宾大道6000号\" size=\"20\"> <input type=\"button\" value=\"更新URL\" @click=\"${this._updateUph}\">\n\n          <div id=\"msg\"></div>\n          <div id=\"geolocation\"></div>\n          <div id=\"map\"></div>\n        </fluent-card>\n        <fluent-card id=\"st\">\n          <div class=\"tut\">\n            <icon-webdev></icon-webdev> \n            <a href=\"https://web.dev/url-protocol-handler/\" title=\"URL protocol handler registration for PWAs\">\n              教程：注册 PWA 的 URL 协议\n            </a>\n          </div>\n          <div class=\"w3c\"><icon-w3c class=\"w3clogo\"></icon-w3c> <a href=\"https://pr-preview.s3.amazonaws.com/w3c/manifest/pull/972.html#protocol_handlers-member\" title=\"Web Application Manifest: URL Protocol Handler\">Web Application Manifest: URL Protocol Handler</a></div>\n          <div class=\"imp\">\n            <div class=\"des\">\n              <a href=\"https://chromestatus.com/feature/5151703944921088\" title=\"在 Chromium 96 版本支持\">🐡 M96</a>\n            </div>\n            <div class=\"des\">\n              <div class=\"det\">\n              <icon-chr class=\"yes\" title=\"Google Chrome 浏览器\"></icon-chr>\n              <icon-edg class=\"yes\" title=\"微软 Edge 浏览器\"></icon-edg> <icon-ope class=\"yes\" title=\"Opera 浏览器\"></icon-ope> <icon-viv class=\"yes\" title=\"Vivaldi 浏览器\"></icon-viv>\n              <icon-saf class=\"no\" title=\"Apple Safari 浏览器\"></icon-saf> <icon-fir class=\"no\" title=\"Mozilla Firefox 浏览器\"></icon-fir>\n              </div>\n            </div>\n            <div class=\"des\">\n              <div class=\"det\">\n                <icon-mac class=\"yes\" title=\"Mac\"></icon-mac> <icon-win class=\"yes\" title=\"Windows\"></icon-win> <icon-lin class=\"yes\" title=\"Linux\"></icon-lin> \n              </div>\n              <div class=\"det\">\n                <icon-and class=\"no\" title=\"Android\"></icon-and> <icon-ios class=\"no\" title=\"iOS\"></icon-ios>\n              </div>\n            </div>   \n          </div>\n        </fluent-card>\n      </div>\n      <app-footer></app-footer>\n    `;\n  }\n}\n"],"names":["LitElement","css","html","query","customElement"],"mappings":"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"}