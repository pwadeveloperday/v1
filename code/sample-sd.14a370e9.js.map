{"version":3,"file":"sample-sd.14a370e9.js","sources":["../../src/script/pages/sample-sd.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\nimport { customElement, query, property } from 'lit/decorators.js';\n\n@customElement('sample-sd')\nexport class SampleSD extends LitElement {\n  @query('#stream') _video: HTMLVideoElement;\n  @query('#msg') _msg: HTMLDivElement;\n  @property({ type: Function }) interval; \n  @property({ type: Function }) stream;   \n\n  async _bc() {\n    if (!('BarcodeDetector' in window) || !((await BarcodeDetector.getSupportedFormats()).includes('qr_code'))) {\n      this._msg.innerHTML =  'ËØ•Á≥ªÁªü‰∏çÊîØÊåÅ‰∫åÁª¥Á†ÅÊ£ÄÊµã';\n      // return;\n    } \n    \n    // else {\n      this.stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: { ideal: 'environment' }\n        },\n        audio: false\n      });\n      this._video.srcObject = this.stream;\n      await this._video.play();\n      \n      if(this._video) {\n        try {\n          let barcodeDetector = new BarcodeDetector({formats: ['qr_code']});\n          let barcodes = await barcodeDetector.detect(this._video);\n          this._msg.innerHTML = barcodes.map(barcode => barcode.rawValue);\n        } catch (e) {\n          this._msg.innerHTML = e.message;\n        }\n      }\n    // }\n  }\n\n  async _pausec() {\n    // clearInterval(this.interval);\n    this._video.pause();\n    this.stream.getTracks().forEach(function(track) {\n      track.stop();\n    });\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n  }\n\n  static get styles() {\n    return css`\n    .about {\n      padding: 0 16px;\n      margin: 1rem 0 0rem 0;\n      color: #3d3d3d;\n    }\n\n    h2 {\n      font-size: 1.2rem;\n      color: rgba(0, 113, 197, 0.9);\n    }\n\n    fluent-card {\n      padding: 1rem;\n      margin-bottom: 1rem;\n      border-radius: 0px;\n      box-shadow: none;\n      background: rgba(255, 255, 255, 0.5);\n    }\n\n    fluent-card:hover {\n      background: rgba(255, 255, 255, 0.95);\n      color: #000;\n    }\n\n    fluent-card h3 {\n      margin: 10px auto;\n    }\n\n    fluent-card p {\n      margin: 10px auto;\n    }\n\n    @media(prefers-color-scheme: light) {\n    }\n\n    @media(prefers-color-scheme: dark) {\n    }\n\n    @media (min-width: 1024px) {\n    }\n\n    .spam {\n      display: none;\n    }\n\n    #status {\n      display: inline;\n    }\n\n    #result {\n      display: none;\n    }\n\n    .previewv {\n      margin: 16px auto;\n      text-align: left;\n      writing-mode:vertical-rl;\n      letter-spacing: 4px;\n      font-size: 1.8rem;\n    }\n\n    .previewv h3, .previewv h4 {\n      margin: 0 auto;\n    }\n\n    .previewv h4 {\n      margin-left: 16px;\n    }\n\n    a {\n      color: rgba(255, 255, 255, 0.9);\n\n      text-decoration: none;\n      border-bottom: 0px dashed rgba(255, 255, 255, 0.6);;\n    }\n\n    a:hover {\n      color: rgba(255, 255, 255, 1);\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(255, 255, 255, 1);\n    }\n\n    #st {\n      padding: 0;\n    }\n\n    #st {\n      color: rgba(255, 255, 255, 0.9);\n    }\n\n    #st:hover {\n      color: rgba(255, 255, 255, 1.0);\n    }\n\n    .tut {\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n    }\n\n    .tut a {\n      color: rgba(0, 113, 197, 0.9);\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\n    }\n\n    .tut a:hover {\n      color: rgba(0, 113, 197, 1);\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\n    }\n\n    .w3c {\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n      background-color: rgba(0, 199, 253, 0.9);\n    }\n    .w3c:hover {\n      background-color: rgba(0, 199, 253, 1.0);\n    }\n    \n    .imp {\n      display: flex;\n      flex-direction: row;\n      gap: 16px;\n      padding: 16px;\n      margin: 0 auto;\n      text-align: center;\n      background-color: rgba(0, 113, 197, 0.9);\n      align-items: center;\n      justify-content: space-around;\n    }\n    .imp:hover {\n      background-color: rgba(0, 113, 197, 1.0);\n    }\n\n    .imp .yes {\n      fill: rgba(255, 255, 255, 0.9);\n    }\n\n    .imp:hover .yes {\n      fill: rgba(255, 255, 255, 1.0);\n    }\n\n    .imp .no {\n      fill: rgba(255, 255, 255, 0.1);\n    }\n\n    .imp:hover .no {\n      fill: rgba(0, 0, 0, 0.4);\n    }\n\n    .des {\n      border: 1px solid rgba(255, 255, 255, 0.2);\n      padding: 2px 8px;\n    }\n\n    .cate, .det {\n      display: inline-block;\n    }\n    .cate .yes, .det .yes, .cate .no, .det .no{\n      display: inline-block;\n      width: 16px;\n      padding: 0 4px;\n    }\n\n    .cate {\n      border-right: 1px solid rgba(255, 255, 255, 0.2);\n      display: none;\n    }\n\n    .q {\n      margin: 16px auto;\n    }\n\n    .w3clogo {\n      margin-right: 6px;\n    }\n\n    .act div {\n      margin-top: 16px;\n    }\n\n    .act a {\n      color: rgba(0, 113, 197, 0.9);\n      cursor: pointer;\n      text-decoration: none;\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.6);\n    }\n\n    .act a:hover {\n      color: rgba(0, 113, 197, 1);\n      border-bottom: 1px dashed rgba(0, 113, 197, 0.9);\n    }\n\n    #show {\n      display: none;\n    }\n\n    .act div {\n      background-color: rgba(0, 0, 0, 0.02);\n      padding: 8px 16px;\n    }\n\n    #stream {\n      width: 320px;\n    }\n\n    .center {\n      margin: 0px auto;\n      text-align: center;\n      background: transparent !important;\n    }\n\n    .center button {\n      margin-top: 16px;\n    }\n\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    return html`\n      <app-header ?enableBack=\"${true}\"></app-header>\n      <div class=\"about\">\n        <fluent-breadcrumb>\n          <fluent-breadcrumb-item href=\"/\">È¶ñÈ°µ</fluent-breadcrumb-item>\n          <fluent-breadcrumb-item href=\"/sample\">Á§∫‰æã</fluent-breadcrumb-item>\n        </fluent-breadcrumb>\n        <h2>ÂΩ¢Áä∂Ê£ÄÊµã (Shape Detection) API</h2>\n        ÂΩ¢Áä∂Ê£ÄÊµã API Ê£ÄÊµãÂõæÂÉè‰∏≠ÁöÑ‰∫∫ËÑ∏„ÄÅÊù°ÂΩ¢Á†ÅÂíåÊñáÊú¨<br><br>\n        <fluent-card class=\"act\">\n          <div class=\"center\">\n            <video id=\"stream\" muted autoplay></video><br>\n            <button @click=\"${this._bc}\">Êâ´Á†Å‰∫åÁª¥Á†Å</button>\n            <button @click=\"${this._pausec}\">ÊöÇÂÅú</button>\n          </div>\n          <div id=\"msg\"></div>\n        </fluent-card>\n        <fluent-card>\n          ÂêØÁî® chrome://flags#enable-experimental-web-platform-features\n        </fluent-card>\n        <fluent-card id=\"st\">\n          <div class=\"tut\">\n            <icon-webdev></icon-webdev> \n            <a href=\"https://web.dev/shape-detection/\" title=\"The Shape Detection API: a picture is worth a thousand words, faces, and barcodes\">\n              ÊïôÁ®ãÔºöÂΩ¢Áä∂Ê£ÄÊµã API\n            </a>\n          </div>\n          <div class=\"w3c\"><icon-w3c class=\"w3clogo\"></icon-w3c> <a href=\"https://wicg.github.io/shape-detection-api/\" title=\"Accelerated Shape Detection in Images\">Accelerated Shape Detection in Images</a></div>\n          <div class=\"imp\">\n            <div class=\"des\">\n              <a href=\"https://chromestatus.com/feature/4757990523535360\" title=\"Âú® Chromium 83 ÁâàÊú¨ÊîØÊåÅ\">üê° M83</a>\n            </div>\n            <div class=\"des\">\n              <div class=\"det\">\n              <icon-chr class=\"yes\" title=\"Google Chrome ÊµèËßàÂô®\"></icon-chr>\n              <icon-edg class=\"yes\" title=\"ÂæÆËΩØ Edge ÊµèËßàÂô®\"></icon-edg> <icon-ope class=\"yes\" title=\"Opera ÊµèËßàÂô®\"></icon-ope> <icon-viv class=\"yes\" title=\"Vivaldi ÊµèËßàÂô®\"></icon-viv>\n              <icon-saf class=\"no\" title=\"Apple Safari ÊµèËßàÂô®\"></icon-saf> <icon-fir class=\"no\" title=\"Mozilla Firefox ÊµèËßàÂô®\"></icon-fir>\n              </div>\n            </div>\n            <div class=\"des\">\n              <div class=\"det\">\n                <icon-mac class=\"yes\" title=\"Mac\"></icon-mac> <icon-win class=\"no\" title=\"Windows\"></icon-win> <icon-lin class=\"no\" title=\"Linux\"></icon-lin> \n              </div>\n              <div class=\"det\">\n                <icon-and class=\"yes\" title=\"Android\"></icon-and> <icon-ios class=\"no\" title=\"iOS\"></icon-ios>\n              </div>\n            </div>   \n          </div>\n        </fluent-card>\n      </div>\n      <app-footer></app-footer>\n    `;\n  }\n}\n"],"names":["LitElement","css","html","query","property","customElement"],"mappings":"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"}