{"version":3,"file":"sample-mp.41bd7612.js","sources":["../../src/script/pages/sample-mp.ts"],"sourcesContent":["import { LitElement, css, html } from 'lit';\r\nimport 'lit-video/lit-video.js';\r\nimport { customElement, query } from 'lit/decorators.js';\r\n\r\n@customElement('sample-mp')\r\nexport class SampleMP extends LitElement {\r\n  @query('#first-video') video: HTMLVideoElement;\r\n  @query('#msg') msg: HTMLDivElement;\r\n\r\n  private async _playLocalVideo() {\r\n    let fileHandle;\r\n    [fileHandle] = await showOpenFilePicker();\r\n    const file = await fileHandle.getFile(); \r\n    this.video.src = URL.createObjectURL(file)\r\n  }\r\n\r\n  private async _playFileHandlerVideo() {\r\n    if ('launchQueue' in window && 'files' in LaunchParams.prototype) {\r\n      console.log('您的浏览器支持文件处理 API');\r\n      \r\n      launchQueue.setConsumer(async (launchParams) => {\r\n        if (!launchParams.files.length) {\r\n          this.msg.innerHTML = '没有从视频文件右键菜单打开本页面'\r\n          return;\r\n        }\r\n        for (let fileHandle of launchParams.files) {\r\n          console.log(fileHandle);\r\n          const file = await fileHandle.getFile();\r\n          console.log(file);\r\n          this.video.src = URL.createObjectURL(file);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    this._playFileHandlerVideo();\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      .act {\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n        width: 100vw;\r\n        height: 100vh;\r\n        background-color: black;\r\n        color: #FFFFFF;\r\n        flex-direction: column;\r\n      }\r\n      lit-video {\r\n        width: 100%;\r\n        height: auto;\r\n        max-height: 100%;\r\n        margin: auto;\r\n        outline: none;\r\n      }\r\n\r\n      #open {\r\n        position: absolute;\r\n        bottom: 48px;\r\n        cursor: pointer;\r\n      }\r\n\r\n      #open svg {\r\n        width: 32px;\r\n        height: 24px;\r\n      }\r\n\r\n      #open svg path {\r\n        fill: rgba(255, 255, 255, 0.8);\r\n      }\r\n\r\n      #open:hover svg path {\r\n        fill: rgba(255, 255, 255, 1.0);\r\n      }\r\n\r\n    `;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <fluent-card class=\"act\">\r\n        <lit-video \r\n          id=\"first-video\"\r\n          option=\"simple\" \r\n          src=\"\" \r\n          type=\"video/mp4\">\r\n        </lit-video>\r\n        <a id=\"open\" @click=\"${this._playLocalVideo}\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n            <path d=\"M512 144v288c0 26.5-21.5 48-48 48h-416C21.5 480 0 458.5 0 432v-352C0 53.5 21.5 32 48 32h160l64 64h192C490.5 96 512 117.5 512 144z\"/>\r\n          </svg>\r\n        </a>\r\n      </fluent-card>\r\n    `;\r\n  }\r\n}\r\n"],"names":["LitElement","css","html","query","customElement"],"mappings":"oSAKa,GAAA,GAAN,aAAuBA,EAAW,CA6EvC,aAAc,CACN,OACR,CA3EA,KAAc,kBAAkB,CAC1B,GAAA,GACH,CAAA,CAAU,EAAI,KAAM,sBACf,KAAA,GAAO,KAAM,GAAW,UAC9B,KAAK,MAAM,IAAM,IAAI,gBAAgB,CAAI,CAC3C,CAEA,KAAc,wBAAwB,CACpC,AAAI,eAAiB,SAAU,SAAW,cAAa,WACrD,SAAQ,IAAI,wEAAiB,EAEjB,YAAA,YAAY,KAAO,IAAiB,CAC1C,GAAA,CAAC,EAAa,MAAM,OAAQ,CAC9B,KAAK,IAAI,UAAY,mGACrB,MACF,CACS,OAAA,KAAc,GAAa,MAAO,CACzC,QAAQ,IAAI,CAAU,EAChB,KAAA,GAAO,KAAM,GAAW,UAC9B,QAAQ,IAAI,CAAI,EAChB,KAAK,MAAM,IAAM,IAAI,gBAAgB,CAAI,CAC3C,CAAA,CACD,EAEL,CAEA,KAAM,oBAAoB,CACxB,MAAM,kBAAkB,EACxB,KAAK,sBAAsB,CAC7B,CAEA,UAAW,SAAS,CACX,MAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,KAuCT,CAMA,QAAS,CACA,MAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,+BAQoB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOlC,CACF,EAjGyB,EAAA,CAAtBC,EAAM,cAAc,CAAA,EAAE,EAAA,UAAA,QAAA,CAAA,EACR,EAAA,CAAdA,EAAM,MAAM,CAAA,EAAE,EAAA,UAAA,MAAA,CAAA,EAFJ,EAAN,EAAA,CADNC,EAAc,WAAW,CAAA,EACb,CAAA"}